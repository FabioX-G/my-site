{% set current = page.url or '' %}
{% set links = [
  { "href": "/about/", "label": "Bio", "active": current.startsWith('/about/') },
  { "href": "/ventures/", "label": "Ventures", "active": current.startsWith('/ventures/') },
  { "href": "/essays/", "label": "Essays", "active": current.startsWith('/essays/') },
  { "href": "/blog/", "label": "Blog", "active": current.startsWith('/blog/') },
  { "href": "/bookshelf/", "label": "Bookshelf", "active": current.startsWith('/bookshelf/') },
  { "href": "/booknotes/", "label": "Book Notes", "active": current.startsWith('/booknotes/') },
  { "href": "/quotes/", "label": "Quotes", "active": current.startsWith('/quotes/') }
] %}

<aside class="sidebar" aria-label="Primary navigation">
  <a class="brand" href="/">FABIO XIE</a>
  <nav class="nav-vertical nav-vertical--sidebar" aria-label="Primary">
    {% for link in links %}
      <a class="nav-link{% if link.active %} is-active{% endif %}"
         href="{{ link.href }}"
         {% if link.active %}aria-current="page"{% endif %}>{{ link.label }}</a>
    {% endfor %}
  </nav>
</aside>

<button class="nav-toggle" type="button" aria-controls="nav-overlay" aria-expanded="false">
  <span class="sr-only">Open menu</span> ☰
</button>

<div class="nav-overlay" id="nav-overlay">
  <button class="nav-close" type="button" aria-label="Close menu">✕</button>
  <a class="brand brand--overlay" href="/">FABIO XIE</a>
  <nav class="nav-vertical nav-vertical--overlay" aria-label="Mobile primary navigation">
    {% for link in links %}
      <a class="nav-link{% if link.active %} is-active{% endif %}"
         href="{{ link.href }}"
         {% if link.active %}aria-current="page"{% endif %}>{{ link.label }}</a>
    {% endfor %}
  </nav>
</div>
